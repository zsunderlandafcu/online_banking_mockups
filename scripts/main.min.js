function Validator(e,t){function r(t){var r=!0,a=this.getDataAttribute("validate").split(",");for(var n in a)try{var u=a[n].split(":");if(!i[this.type][u[0]].call(this,t,u.splice(1))){r=!1;break}}catch(e){console.error("Invalid rule: "+u[0]+" on type "+this.type)}var l=this.parentElement,s=l.querySelector("span");if(r)return s&&l.removeChild(s),!0;s||(s=document.createElement("span"));var o="error-message",c=u[0].toLowerCase()+"-"+o;s.innerText=this.getDataAttribute(c)||e.getDataAttribute(c)||this.getDataAttribute(o)||e.getDataAttribute(o)||"Please enter a valid value",o="error-class";var d=this.getDataAttribute(o)||e.getDataAttribute(o);d&&(s.classList?s.classList.add(d):s.className+=" "+d),o="error-input-class";var h=this.getDataAttribute(o)||e.getDataAttribute(o);return h&&(this.classList?this.classList.add(h):this.className+=" "+d),l.appendChild(s),!1}var a=e.querySelectorAll("[data-validate]"),n={required:function(e){return!!e},length:function(e,t){return t[1]?e.length>=t[0]&&e.length<=t[1]:e.length>=t[0]},regex:function(e,t){return new RegExp(t[0]).test(e)},vals:function(e,t){for(var r=e.toLowerCase(),a=[],n=0;n<t.length;n++){if(-1!==t[n].indexOf("!")&&-1!==r.indexOf(t[0].substr(1)))return!1;a.push(t[n].toLowerCase())}return new RegExp("^("+t.join("|")+")$").test(r)},number:function(e,t){var r=Number(e);return!isNaN(r)&&(!t[0]||(t[1]?r>=t[0]&&r<=t[1]:r>=t[0]))},phone:function(e,t){var r=Number(e.replace(/\D+/g,"")).toString().length;return void 0===t[0]?11===r||10===r:Number(t[0])?11===r:10===r},email:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},date:function(e,r){DateValidator=t.dateValidator,dvStr=DateValidator.toString();var a;return console.time("DateValidator"),a=-1!==dvStr.indexOf("DateValidator")?DateValidator.testDate(e,r[0]):DateValidator.isMoment?DateValidator(e,r[0],!0).isValid():"Invalid Date"!==new Date(e)&&!isNaN(new Date(e)),console.timeEnd("DateValidator"),console.log(a),a},time:function(e,t){},datetime:function(e,t){},url:function(e,t){var r=void 0===t[0]?"":t[0]?"https://(www.)?":"https?://(www.)?";return new RegExp(r+"[-a-zA-Z0-9@:%._+~#=]{2,256}.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)").test(e)},match:function(t,r){return t===e.getElementById(r[0]).value}},i={text:{required:n.required,regex:n.regex,length:n.length,number:n.number,phone:n.phone,email:n.email,vals:n.vals,url:n.url,date:n.date,match:n.match},checkbox:{required:function(){return this.checked},checked:function(){return this.checked}},color:{vals:n.vals,range:function(e,t){for(var r=0;r<t.length;r++)t[r]=parseInt(t[r],16),console.log(t[r]);return e=parseInt(e.substr(1),16),console.log(e),!t[0]||(t[1]?e>=t[0]&&e<=t[1]:e>=t[0])}},date:{required:n.required},file:{required:n.required,accept:function(e){for(var t=this.getAttribute("accept").split(",").map(function(e){return e.trim()}),r=!1,a=0;a<t.length;a++)if(new RegExp(t[a]+"$").test(e)){r=!0;break}return r}},hidden:{required:n.required,regex:n.regex,length:n.length,number:n.number,phone:n.phone,email:n.email,vals:n.vals,url:n.url,match:n.match},number:{required:n.required,range:n.number,match:n.match},password:{required:n.required,regex:n.regex,length:n.length,number:n.number,match:n.match},radio:{required:function(){return!!document.querySelector('input[name="'+this.name+'"]:checked')}},search:{required:n.required,regex:n.regex,length:n.length,number:n.number,phone:n.phone,email:n.email,vals:n.vals,url:n.url,match:n.match}};Node.prototype.getDataAttribute=function(e){if(this.dataset){var t=e.split("-").map(function(e,t){return t?e.charAt(0).toUpperCase()+e.substr(1):e}).join("");return this.dataset[t]}return this.getAttribute("data-"+e)};for(var u=0;u<a.length;u++)a.item(u).addEventListener("change",function(e){r.call(this,e.target.value)},!1);e.addEventListener("submit",function(e){e.preventDefault(),e.stopPropagation();for(var n=!0,i=0;i<a.length;i++)r.call(a.item(i),a.item(i).value)||(n=!1);if(n)return t&&t.then?t.then():this.submit()})}